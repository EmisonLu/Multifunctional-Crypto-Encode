# 需求分析文档

## 0 概述

​		考虑到现有工具的种种不足，本项目计划实现一个密码学工具，在离线的前提下，提供各种算法的加解密、解编码、哈希、JSON序列化、进制转换等等功能。

## 1 背景分析

​		当下，如果想要快速地对一些数据进行加解密、解编码等操作，往往能够借助一些在线网站解决问题。然而，这些网站都存在着许多不足。之前做大创项目开发系统时，涉及到大量的密码学转换过程，深受此问题困扰。于是我希望借助这次课程小作业机会，实现一个多功能密码学工具，在保证已有功能正确的情况下，不断拓展更多的功能，解决现有工具的不足，并且提供优美简洁的界面。

​		总的来说，现有工具的不足可以概括为以下几个方面。

### 1.1 功能不足

​		基本上所有的在线工具，往往只是专注于某一个方面，如加解密或者解编码，因此都存在着功能不足的问题。比如如下网站，只提供了RSA算法相关的计算，对于其它常用的密码算法，如DES、AES等等，并不涉及。倘若需要进行DES加密亦或是编码转换，必须使用其它的网站，这种缺少整体化、多功能性的工具无疑会降低开发的效率。

<img src="/Users/emisonlu/Library/Application Support/typora-user-images/截屏2021-04-03 下午7.51.33.png" alt="截屏2021-04-03 下午7.51.33" style="zoom:40%;" />

​		除了广义的功能不足，也存在着另一个方面的不足——对于单个算法往往存在着很多的标准，而大多数在线网站只是提供某一个标准。比如RSA算法除了有RSAES-PKCS-V1_5标准外，还有RSA-OAEP标准，而如下的网站仅仅提供了PKCS1标准的加解密。

<img src="/Users/emisonlu/Library/Application Support/typora-user-images/截屏2021-04-03 下午7.58.15.png" alt="截屏2021-04-03 下午7.58.15" style="zoom:40%;" />

​		再比如，如下的网站只提供了2次幂之间的进制转换，而无法提供任意进制间的转换。

![截屏2021-04-03 下午8.01.28](/Users/emisonlu/Library/Application Support/typora-user-images/截屏2021-04-03 下午8.01.28.png)

### 1.2 功能错误

​		提供正确的加解密或解编码结果，是一个网站的底线。然而，存在着一些网站，提供的运算结果是错误的，假如某些用户没有进行多个网站的验证，错误相信了这个运算结果，那么所导致的后果可能是灾难性的。比如如下实例，使用RSA公钥加密字符串”hello world“，所得到的运算结果是错误的。

![截屏2021-04-03 下午8.08.11](/Users/emisonlu/Library/Application Support/typora-user-images/截屏2021-04-03 下午8.08.11.png)

​		将此结果，利用其它网站进行私钥解密，无法得到明文”字符串“。

<img src="/Users/emisonlu/Library/Application Support/typora-user-images/截屏2021-04-03 下午8.10.52.png" alt="截屏2021-04-03 下午8.10.52" style="zoom:40%;" />

### 1.3 其它

​		有些在线网站，存在着大量的广告，给使用的用户带来极差的体验。而有的网站，布局混乱，缺乏整体化，而且前端设计往往停留于十多年前的网站风格，缺乏美观性与简洁性。

​		其次，这些现成的密码学工具，都是在线的，在没有互联网的情况下用户即无法使用。然而，总存在着某些情况，用户无法通畅地连接到互联网，却有着使用密码学工具的需求。因此，一款离线的加解密工具，是非常需要的。

## 2 产品功能

​		综上所述，考虑到现有密码学工具的不足，计划实现一个离线的多功能工具。通过HTML + JavaScript的形式，提供一个基于浏览器的工具，并主要包含加解密、解编码、哈希、其它(JSON、进制转换)4个方面的功能。

### 2.1 加解密

​		虽然有着非常多的对称密码算法、非对称密码算法，但往往流行通用的只有几种。本工具计划提供RSA、AES、DES、3DES算法的加解密。

#### 2.1.1 RSA

​		用户可以生成公私钥对。

|   选项   |               说明               |
| :------: | :------------------------------: |
|   功能   |           生成公私钥对           |
|   位数   | 512位 / 1024位 / 2048位 / 4196位 |
| 输出格式 |               pem                |

​		用户可以进行加密或解密。

|    选项    |           说明            |
| :--------: | :-----------------------: |
|    功能    |         RSA加解密         |
|  明文格式  |     utf8、base64、hex     |
| 加解密标准 | RSAES-PKCS-V1_5、RSA-OAEP |
|  密文格式  |        base64、hex        |

#### 2.1.2 AES

​	用户可以进行加密或解密。

|    选项    |         说明          |
| :--------: | :-------------------: |
|    功能    |       AES加解密       |
|  明文格式  |   utf8、base64、hex   |
| 加解密标准 |  CBC、ECB、CTR、GCM   |
|  密文格式  |      base64、hex      |
|  密钥长度  | 128位 / 192位 / 256位 |
|  密钥格式  |   utf8、base64、hex   |
|   iv格式   |   utf8、base64、hex   |

#### 2.1.3 DES

​	用户可以进行加密或解密。

|    选项    |       说明        |
| :--------: | :---------------: |
|    功能    |     DES加解密     |
|  明文格式  | utf8、base64、hex |
| 加解密标准 |     CBC、ECB      |
|  密文格式  |    base64、hex    |
|  密钥格式  | utf8、base64、hex |
|   iv格式   | utf8、base64、hex |

#### 2.1.4 3DES

​	用户可以进行加密或解密。

|    选项    |       说明        |
| :--------: | :---------------: |
|    功能    |    3DES加解密     |
|  明文格式  | utf8、base64、hex |
| 加解密标准 |     CBC、ECB      |
|  密文格式  |    base64、hex    |
|  密钥格式  | utf8、base64、hex |
|   iv格式   | utf8、base64、hex |

### 2.2 解编码

​		常见的编码格式有utf8、base64、hex、url等等，本工具提供任意编码间的转换，并在编码格式有误的情况下向用户进行提示。

| 选项 |                说明                |
| :--: | :--------------------------------: |
| 功能 | utf8、base64、hex、url间的编码转换 |

### 2.3 HASH

​		常用的HASH算法有SHA1、SHA256、SHA384、SHA512、MD5，以及基于哈希算法实现的HMAC。其中HASH算法支持如下：

|   选项   |                   说明                    |
| :------: | :---------------------------------------: |
|   功能   | SHA1、SHA256、SHA384、SHA512、MD5哈希运算 |
| 输入格式 |             utf8、base64、hex             |
| 输出格式 |             utf8、base64、hex             |

​		HMAC算法支持如下：

|      选项      |               说明                |
| :------------: | :-------------------------------: |
|      功能      |             HMAC运算              |
|    输入格式    |         utf8、base64、hex         |
|    输出格式    |         utf8、base64、hex         |
|    密钥格式    |         utf8、base64、hex         |
| 支持的HASH算法 | SHA1、SHA256、SHA384、SHA512、MD5 |

### 2.4 其它

​		除了提供加解密运算、解编码运算以及HASH运算，本工具也支持JSON序列化以及进制转换。其中JSON序列化的参数不作说明。关于进制转换，本工具提供2进制到32进制之间的任意进制转换运算。

## 3 总结

​		由于在线密码学工具的功能不足、运算错误等等问题，本项目提供加解密、解编码、HASH运算等多种功能。就以上单个算法而言，同时提供多个标准。其次为了提升用户的使用体验，关于算法的输入输出允许以多种格式进行呈现。